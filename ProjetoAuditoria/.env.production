# Configurações de Produção - Sistema de Auditoria SEO
# IMPORTANTE: Renomeie este arquivo para .env e configure os valores apropriados

# === CONFIGURAÇÕES BÁSICAS ===
ENVIRONMENT=production
FLASK_SECRET_KEY=sua_chave_secreta_super_forte_aqui_min_32_chars
FLASK_HOST=0.0.0.0
FLASK_PORT=5000
FLASK_DEBUG=false

# === BANCO DE DADOS ===
DATABASE_PATH=/app/data/audit_history.db
DATABASE_POOL_SIZE=10
DATABASE_TIMEOUT=30
DATABASE_BACKUP_ENABLED=true
DATABASE_BACKUP_INTERVAL=3600  # 1 hora em segundos

# === CACHE ===
CACHE_MEMORY_SIZE=200  # MB
CACHE_DISK_SIZE=2000   # MB
CACHE_TTL=3600         # 1 hora em segundos
CACHE_DISK_PATH=/app/cache
CACHE_REDIS_URL=redis://localhost:6379/0  # Opcional: Redis para cache distribuído

# === PROCESSAMENTO ASSÍNCRONO ===
ASYNC_MAX_WORKERS=6
ASYNC_QUEUE_SIZE=200
ASYNC_ENABLE_RETRY=true
ASYNC_MAX_RETRIES=3
ASYNC_RETRY_DELAY=5
ASYNC_TASK_TIMEOUT=1800  # 30 minutos

# === LOGGING ===
LOG_LEVEL=INFO
LOG_FILE_PATH=/app/logs
LOG_MAX_BYTES=10485760    # 10MB
LOG_BACKUP_COUNT=10
ENABLE_JSON_LOGGING=true
LOG_ROTATION_WHEN=midnight
LOG_ROTATION_INTERVAL=1

# === SEGURANÇA ===
RATE_LIMIT_STORAGE_URL=memory://
RATE_LIMIT_DEFAULT=200 per hour
RATE_LIMIT_AUDIT_START=10 per hour
RATE_LIMIT_ADMIN=50 per hour
IP_WHITELIST=127.0.0.1,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
CORS_ORIGINS=https://seudominio.com,https://www.seudominio.com
ENABLE_HTTPS_REDIRECT=true
CONTENT_SECURITY_POLICY=default-src 'self'
ENABLE_HSTS=true

# === APIs EXTERNAS ===
PAGESPEED_API_KEY=sua_chave_pagespeed_insights_aqui
SEMRUSH_API_KEY=sua_chave_semrush_aqui
AHREFS_API_KEY=sua_chave_ahrefs_aqui
SCREAMING_FROG_PATH=/opt/screamingfrog/ScreamingFrogSEOSpider
CHROME_DRIVER_PATH=/usr/local/bin/chromedriver
SELENIUM_TIMEOUT=30
SELENIUM_IMPLICIT_WAIT=10

# === GUNICORN ===
GUNICORN_WORKERS=4
GUNICORN_WORKER_CLASS=sync
GUNICORN_WORKER_CONNECTIONS=1000
GUNICORN_MAX_REQUESTS=2000
GUNICORN_MAX_REQUESTS_JITTER=200
GUNICORN_TIMEOUT=300
GUNICORN_KEEPALIVE=5
GUNICORN_PRELOAD_APP=true
GUNICORN_BIND=0.0.0.0:5000

# === MONITORAMENTO ===
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30
PROMETHEUS_MULTIPROC_DIR=/tmp/prometheus_multiproc
ENABLE_PERFORMANCE_MONITORING=true

# === UPLOAD E RELATÓRIOS ===
MAX_CONTENT_LENGTH=33554432  # 32MB
UPLOAD_FOLDER=/app/uploads
REPORTS_FOLDER=/app/reports
TEMP_FOLDER=/app/temp
ALLOWED_EXTENSIONS=csv,xlsx,txt
MAX_URLS_PER_AUDIT=10000

# === NOTIFICAÇÕES ===
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/SEU/WEBHOOK/AQUI
SLACK_CHANNEL=#seo-audits
EMAIL_SMTP_SERVER=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=seu_email@gmail.com
EMAIL_PASSWORD=sua_senha_app_gmail
EMAIL_FROM=noreply@seudominio.com
EMAIL_TO=admin@seudominio.com

# === BACKUP E ARMAZENAMENTO ===
ENABLE_S3_BACKUP=false
AWS_ACCESS_KEY_ID=sua_chave_aws_aqui
AWS_SECRET_ACCESS_KEY=sua_chave_secreta_aws_aqui
AWS_S3_BUCKET=seo-audit-backups
AWS_S3_REGION=us-east-1

ENABLE_AZURE_BACKUP=false
AZURE_STORAGE_CONNECTION_STRING=sua_connection_string_azure_aqui
AZURE_CONTAINER_NAME=seo-audit-backups

# === PERFORMANCE ===
ENABLE_GZIP_COMPRESSION=true
GZIP_COMPRESSION_LEVEL=6
ENABLE_RESPONSE_CACHING=true
RESPONSE_CACHE_TTL=300  # 5 minutos
MAX_CONCURRENT_AUDITS=5
AUDIT_QUEUE_SIZE=50

# === DESENVOLVIMENTO (apenas para debug) ===
FLASK_DEBUG_TOOLBAR=false
ENABLE_PROFILING=false
PROFILING_OUTPUT_DIR=/app/profiling

# === DOCKER ===
DATA_PATH=./data
CACHE_PATH=./cache
LOGS_PATH=./logs
UPLOADS_PATH=./uploads
REPORTS_PATH=./reports
TEMP_PATH=./temp

# === GRAFANA (opcional) ===
GRAFANA_PASSWORD=admin_password_forte_aqui

# === TIMEZONE ===
TZ=America/Sao_Paulo

# === RECURSOS DO SISTEMA ===
MEMORY_LIMIT=2G
CPU_LIMIT=2.0
DISK_SPACE_WARNING_THRESHOLD=85  # Porcentagem
MEMORY_WARNING_THRESHOLD=80      # Porcentagem

# === LIMPEZA AUTOMÁTICA ===
AUTO_CLEANUP_ENABLED=true
CLEANUP_INTERVAL=86400           # 24 horas em segundos
CLEANUP_TEMP_FILES_OLDER_THAN=3600  # 1 hora
CLEANUP_LOGS_OLDER_THAN=2592000     # 30 dias
CLEANUP_REPORTS_OLDER_THAN=7776000  # 90 dias